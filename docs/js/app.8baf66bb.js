(function(t){function e(e){for(var s,i,u=e[0],c=e[1],r=e[2],p=0,d=[];p<u.length;p++)i=u[p],a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},o=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var r=0;r<u.length;r++)e(u[r]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"0c3a":function(t,e,n){},"230b":function(t,e,n){"use strict";var s=n("dd58"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("a481"),n("cebc")),u=n("2f62"),c=Object(u["b"])("auth"),r=c.mapActions,l={name:"app",methods:Object(i["a"])({},r(["logout"]),{initFB:function(){this.$router.replace("/login-status")}}),mounted:function(){window.addEventListener("FBInit",this.initFB),window.FB||this.$router.replace("/")},beforeDestroy:function(){window.removeEventListener("FBInit",this.initFB),window.FB&&this.logout()}},p=l,d=(n("034f"),n("2877")),f=Object(d["a"])(p,a,o,!1,null,null,null),g=f.exports,m=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-list"},[n("h2",[t._v("Your Manage Pages")]),n("div",{staticClass:"list"},[t.pageList.length?n("ul",t._l(t.pageList,function(e){return n("li",{key:e.id,staticClass:"item",on:{click:function(n){return t.goToPosts(e.id)}}},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("Name:")]),t._v(t._s(e.name))]),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("ID:")]),t._v(t._s(e.id))])])}),0):t._e(),n("div",{staticClass:"hint"},[t._v("Click the page to manage your posts")])])])},h=[],b=Object(u["b"])("page"),_=b.mapActions,w=b.mapState,O={name:"PageList",methods:Object(i["a"])({},_(["getPageList"]),{goToPosts:function(t){this.$router.push("posts/".concat(t))}}),computed:Object(i["a"])({},w({pageList:function(t){return t.pageList.data||[]}})),mounted:function(){this.getPageList()}},j=O,P=(n("e0a0"),Object(d["a"])(j,v,h,!1,null,"35ae46c3",null)),L=P.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},S=[],C={},B=C,F=Object(d["a"])(B,y,S,!1,null,"7d8769da",null),$=F.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},E=[],I=Object(u["b"])("auth"),D=I.mapActions,k=I.mapState,T={computed:Object(i["a"])({},k({status:function(t){return t.loginStatus.status}})),watch:{status:function(t){"connected"===t?this.$router.replace("/page-list"):this.$router.replace("/login")}},methods:Object(i["a"])({},D(["getLoginStatus"])),mounted:function(){window.FB&&this.getLoginStatus()}},M=T,A=Object(d["a"])(M,x,E,!1,null,"06852809",null),G=A.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"posts"},[n("h2",[t._v("Posts")]),t.list.length?n("ul",t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"item"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("message:")]),t._v(t._s(e.message))]),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("created time:")]),t._v(t._s(e.created_time))])])}),0):t._e()])},R=[],U=Object(u["b"])("post"),N=U.mapActions,Y=U.mapState,q={computed:Object(i["a"])({},Y({list:"data",paging:"paging"})),methods:Object(i["a"])({},N(["getPosts"])),mounted:function(){this.getPosts(this.$route.params.id)}},z=q,H=(n("230b"),Object(d["a"])(z,J,R,!1,null,"46bdf57a",null)),K=H.exports;s["a"].use(m["a"]);var Q=new m["a"]({routes:[{path:"/page-list",component:L},{path:"/login",component:$},{path:"/login-status",component:G},{path:"/posts/:id",component:K}]}),V={loginStatus:{}},W={storeLoginStatus:function(t,e){t.loginStatus=Object(i["a"])({status:e.status},e.authResponse)}},X={getLoginStatus:function(t){var e=t.commit;window.FB.getLoginStatus(function(t){"connected"===t.status?(e("storeLoginStatus",t),e("setUserID",t.authResponse.userID,{root:!0})):console.log(status,"need login")})},logout:function(){window.FB.logout(function(t){console.log("logout",t)})}},Z={namespaced:!0,state:V,mutations:W,actions:X},tt={pageList:[]},et={storePageList:function(t,e){t.pageList=e}},nt={getPageList:function(t){var e=t.commit,n=t.rootState;window.FB.api("/".concat(n.userID,"/accounts"),"GET",{},function(t){e("storePageList",t)})}},st={namespaced:!0,state:tt,mutations:et,actions:nt},at={data:[],paging:{}},ot={updatePosts:function(t,e){t.data=e.data,t.paging=e.paging}},it={getPosts:function(t,e){var n=t.commit;window.FB.api("/".concat(e,"/posts"),"GET",{},function(t){n("updatePosts",t)})}},ut={namespaced:!0,state:at,mutations:ot,actions:it};s["a"].use(u["c"]);var ct={setUserID:function(t,e){t.userID=e}},rt=new u["a"]({modules:{auth:Z,page:st,post:ut},state:{userID:""},mutations:ct});s["a"].config.productionTip=!1,new s["a"]({router:Q,store:rt,render:function(t){return t(g)}}).$mount("#app")},"64a9":function(t,e,n){},dd58:function(t,e,n){},e0a0:function(t,e,n){"use strict";var s=n("0c3a"),a=n.n(s);a.a}});
//# sourceMappingURL=app.8baf66bb.js.map